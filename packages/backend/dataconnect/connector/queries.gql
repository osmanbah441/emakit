fragment ProductInfo on Product {
        id
        name
        description
        categoryId
        specifications
        variations: productVariations_on_product {
            id
            imageUrls
            price
            attributes
            stockQuantity
        }

    
}

# Controls the category filtering behavior:
# - `false`: return only subcategories
# - `true`: return only main categories
# - `null`: return all categories (both main and subcategories)
query fetchCategories($onlyRoot: Boolean) @auth(level: PUBLIC) {
    categories(where: {parentId: {isNull: $onlyRoot}}) {
        id
        name
        description
        parentId
    }
}



query fetchProducts @auth(level: PUBLIC) {
    products {
        ...ProductInfo
    }
}

query fetchProduct($id: UUID!) @auth(level: PUBLIC) {
    product(id: $id) {
        ...ProductInfo
    }
}


